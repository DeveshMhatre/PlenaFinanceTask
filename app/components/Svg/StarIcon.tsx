import React from 'react';
import { I18nManager, ViewStyle } from 'react-native';
import Svg, { Path } from 'react-native-svg';

export type StarIconProps = {
  size: number;
  color: string;
  type: 'full' | 'half' | 'empty';
};

const StarBorder = ({ size, color }: Omit<StarIconProps, 'type'>) => (
  <Svg width={size} height={size} viewBox="0 0 24 24" fill="none">
    <Path
      stroke={color}
      d="M11.64 8.637a.776.776 0 0 0-.225.684l.627 3.47a.762.762 0 0 1-.317.762.777.777 0 0 1-.825.057l-3.125-1.63a.797.797 0 0 0-.353-.092h-.19a.572.572 0 0 0-.191.063L3.916 13.59a.824.824 0 0 1-.501.077.784.784 0 0 1-.628-.896l.628-3.47a.79.79 0 0 0-.225-.692L.643 6.14a.762.762 0 0 1-.19-.797.792.792 0 0 1 .627-.529l3.506-.508c.267-.028.5-.19.62-.43L6.753.708a.734.734 0 0 1 .14-.19l.064-.05A.473.473 0 0 1 7.07.376l.077-.028.12-.05h.297a.79.79 0 0 1 .62.424L9.75 3.875c.113.23.332.39.585.43l3.506.508a.8.8 0 0 1 .642.53.766.766 0 0 1-.205.796L11.64 8.637z"
    />
  </Svg>
);

const StarFull = ({ size, color }: Omit<StarIconProps, 'type'>) => (
  <Svg width={size} height={size} viewBox="0 0 24 24" fill="none">
    <Path
      fill={color}
      d="M11.64 8.637a.776.776 0 0 0-.225.684l.627 3.47a.762.762 0 0 1-.317.762.777.777 0 0 1-.825.057l-3.125-1.63a.797.797 0 0 0-.353-.092h-.19a.572.572 0 0 0-.191.063L3.916 13.59a.824.824 0 0 1-.501.077.784.784 0 0 1-.628-.896l.628-3.47a.79.79 0 0 0-.225-.692L.643 6.14a.762.762 0 0 1-.19-.797.792.792 0 0 1 .627-.529l3.506-.508c.267-.028.5-.19.62-.43L6.753.708a.734.734 0 0 1 .14-.19l.064-.05A.473.473 0 0 1 7.07.376l.077-.028.12-.05h.297a.79.79 0 0 1 .62.424L9.75 3.875c.113.23.332.39.585.43l3.506.508a.8.8 0 0 1 .642.53.766.766 0 0 1-.205.796L11.64 8.637z"
    />
  </Svg>
);

const RTL_TRANSFORM: ViewStyle = {
  transform: [{ rotateY: '180deg' }],
};

const StarHalf = ({ size, color }: Omit<StarIconProps, 'type'>) => (
  <Svg
    height={size}
    viewBox="0 0 24 24"
    width={size}
    style={I18nManager.isRTL ? RTL_TRANSFORM : undefined}
  >
    <Path
      fill="#1E222B"
      d="m7.874.731 1.571 3.157a.784.784 0 0 0 .591.422l3.528.514a.79.79 0 0 1 .52.304.764.764 0 0 1 .148.575.784.784 0 0 1-.227.446L11.45 8.627a.745.745 0 0 0-.227.68l.63 3.483a.787.787 0 0 1-.63.897.824.824 0 0 1-.503-.08l-3.147-1.64a.825.825 0 0 0-.743 0l-3.147 1.64A.806.806 0 0 1 2.6 13.29a.798.798 0 0 1-.082-.493l.63-3.484a.749.749 0 0 0-.227-.68L.366 6.156a.765.765 0 0 1-.02-1.082l.02-.02a.76.76 0 0 1 .453-.222l3.528-.515a.786.786 0 0 0 .59-.423L6.453.73A.78.78 0 0 1 7.17.3h.094a.787.787 0 0 1 .61.432z"
    />
    <Path
      fill={color}
      d="M7.18 11.88a.864.864 0 0 0-.39.106l-3.13 1.636a.817.817 0 0 1-1.057-.325.78.78 0 0 1-.082-.49l.625-3.477a.778.778 0 0 0-.226-.688L.363 6.167a.771.771 0 0 1 0-1.101.8.8 0 0 1 .446-.224l3.53-.52a.764.764 0 0 0 .59-.423L6.465.696A.78.78 0 0 1 7.186.3C7.18.51 7.18 11.737 7.18 11.88z"
    />
  </Svg>
);

const StarIcon = ({ type, size, color }: StarIconProps) => {
  const Component =
    type === 'full' ? StarFull : type === 'half' ? StarHalf : StarBorder;

  return <Component size={size} color={color} />;
};

export default StarIcon;
